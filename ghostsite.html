<!doctype html>

<html>
	<head>
		<title>Построение через JS</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" href="style.css"><!--Указание на использование таблицы стилей-->
		<link rel="stylesheet" href="normalize.css"><!--Указание на использование таблицы стилей-->

    <title>Title</title>

		<style>
		.content{/*содание flex-технологии для content*/
				display:flex;
				flex-direction: row;
				justify-content: center;
				align-items: flex-start;
			  flex-wrap: wrap;
		}
			.main{
				display:flex;
				/*columns:   не будет уже работать*/
				/*float:   не будет уже работать*/
				/*clear   не будет уже работать*/
			 /*vertical-align:    не будет уже работать*/
			/* height: 500px; т.к. у bl нету конкретной высоты - они вытягиваются по всему main(т.к. это поперечная ось)*/
			flex-direction: row;/*  значение по умолчанию главной оси слева-направо прижимание к лево, поперечная сверху-вниз*/
			 /*flex-direction: column; /*значение по умолчанию главной оси сверху-вниз прижимание к верху, поперечная слева-направо*/
			 /*flex-direction: column-reverse; значение по умолчанию главной оси СНИЗУ-ВВЕРХ прижимание к низу, поперечная слева-направо*/
			 /*flex-direction: row-reverse; значение по умолчанию главной оси СПРАВО-НАЛЕВО прижимание к ПРАВО, поперечная сверху-вниз*/

			/* justify-content: flex-start; /*значение прижимания, сейчас по умолчанию, прижаты к началу в зависимости от flex-direction*/
			 /*justify-content: flex-end; значение прижимания, прижаты к концу главной оси в зависимости от flex-direction*/
			 /*justify-content: space-between; распределение блоков равномерно, от начала главной оси и до конца*/
			 /*justify-content: space-around; распределение блоков равномерно с учетом отступов*/
			 justify-content: center; /*равномерное распределение блоков по центру главной оси*/

			/*align-items: stretch;свойство растягивания по поперечной оси*/
			 /*align-items: center; блоки становятся по центру, не растягиваются*/
			 /*align-items: flex-end; блоки прижимаются к концу главной оси*/
			 align-items: flex-start;/* блоки прижимаются к началу главной оси*/
			 /*align-items: baseline; выравнивание относительно базовой линии, т.е. начало низа шрифта*/

			}

		</style>
	</head>

<body>

<!--Создание верхнего меню-->
  <div class="header">
		<div class="wrapper">
			<div class="navigation">
			  <img src="img/img.png" alt="">
		  	<ul class="nav">
		  		<li><a href="">Главная</a></li>
					<li><a href="">Новости</a></li>
					<li><a href="">Новости2</a></li>
					<li><a href="">Компания</a></li>
		  	</ul>
			</div>
		</div>
  </div>
<!--Конец верхнего меню-->

<!--Создание основного контента-->
	<div class="wrapper">
		<div class="content" id="content">

  	</div>
	</div>
<!--Конец основного контента-->


<!--JavaScript-->
  <script>


 var array_news = [ { name_news: "Grapefruit", picture: "img/etud_black.jpg", style_news: 1, img:["img/news_green.jpg","img/news_red.jpg"], sold: 8200 },
                    { name_news: "Orange", picture: "img/etud_black.jpg", style_news: 1, sold: 12101 },
                    { name_news: "Cola", picture: "img/etud_black.jpg", style_news: 1, sold: 25412 },
                    { name_news: "Diet Cola", picture: "img/etud_black.jpg", style_news: 1, sold: 43922 },
                    { name_news: "Lemon", picture: "img/etud_black.jpg", style_news: 1, sold: 14983 },
                    { name_news: "Raspberry", picture: "img/etud_black.jpg", style_news: 1, sold: 9427 },
                    { name_news: "Root Beer", picture: "img/etud_black.jpg", style_news: 1, sold: 9909 },
                    { name_news: "Water", picture: "img/etud_black.jpg", style_news: 1, sold: 62123 }
                  ];

//document.body.onload = addElement; при загрузке body
 var my_div = newDiv = null;


/*

function test() {//копирование полного объекта

   document.querySelector(".content").appendChild(document.querySelector(".main").cloneNode(true));

};
*/

//объект который умеет строить элементы с новостями и взаимодействовать.
var mainView = {
	//первый метод объекта
	createElementMain: function(){

		for (var i = 0; i < array_news.length; i++) {//перебираю массив объектов новостей и создаю каждую новость в виде div блока

		// создаем новый элемент div c классом main и меняем CSS
    var newDiv_main = document.createElement("div");
        newDiv_main.className = 'main'//класс main
        newDiv_main.id = 'main_id'+i;// id main
        newDiv_main.style.backgroundColor = 'tomato';//css свойства
        newDiv_main.style.width = "200px";//css свойства
        newDiv_main.style.height = "250px";//css свойства
    // добавляем только что созданый элемент в дерево DOM
    let my_div_content = document.getElementById("content");//получаем id content, чтобы вставить ВНУТРЬ него main
		my_div_content.style.justifyContent = 'center';//обязательно писать свойство justifyContent через заглавную букву
    my_div_content.appendChild(newDiv_main);//вставляем внутрь content новый элемент main
    //document.body.insertBefore(newDiv, my_div); вставить до тега контент

		var newDiv_bl = document.createElement("div");
				newDiv_bl.className = 'bl'//класс bl
				newDiv_bl.id = 'bl'+i;// id main
				newDiv_bl.innerHTML = array_news[i].name_news;//вставляем внутрь текст, беря его из массива
				newDiv_bl.style.backgroundColor = 'white';
				newDiv_bl.style.width = "100px";//css свойства
				newDiv_bl.style.height = "20px";//css свойства

		  //newDiv.onclick = delete_obj;//обработчик события на клике
		// добавляем только что созданый элемент в дерево DOM
		let my_div_main = document.getElementById("main_id"+i);//получаем id main, чтобы вставить ВНУТРЬ него
		my_div_main.appendChild(newDiv_bl);//вставляем внутрь main новый элемент
		let my_bl_main = document.getElementById(newDiv_bl.id);//получаем id main, чтобы вставить ВНУТРЬ него

    my_bl_main.onclick = mainView.createElementNews;/*каждому элементу заголовка bl назначаем в свойстве onckick обработчик события метод Объекта*/


		// создаем новый элемент img c классом img и его CSS
		var newDiv_img = document.createElement("img");
				newDiv_img.className = 'img';//класс img
				newDiv_img.src = array_news[i].picture;//путь к картинке, беря его из массива
				newDiv_img.style.width = "200px";//css свойства
				newDiv_img.style.height = "200px";//css свойства
				my_div_main.appendChild(newDiv_img);//вставляем внутрь main новый элемент

			};//конец цикла
  	},//конец первого метода

	//ВТОРОЙ метод объекта
	//Создаёт поле с новостью
	createElementNews: function(){

		for (var i = 0; i < array_news.length; i++) {
			let my_div_main = document.getElementById("main_id"+i);//получаем id main чтобы удалить потом
			my_div_main.remove();//удаляем main блоки
			//node.remove() //тоже самое только для node
		};//конец цикла

		let my_content = document.getElementById("content");//получаем id content, чтобы изменить свойства
		    my_content.style.justifyContent = 'flex-start';//обязательно писать свойство justifyContent через заглавную букву

		var newDiv_news = document.createElement("div");//создали общий элемент News в который вложим два элемента крестик и саму новость
				newDiv_news.className = 'news'//класс main
				newDiv_news.id = 'news_id';// id main
				newDiv_news.style.display = 'flex';//технология flex
				newDiv_news.style.flexDirection = 'column';//главная ось СВЕРХУ ВНИЗ, чтобы блоки верхний и нижний получились


		// добавляем только что созданый элемент в дерево DOM
		let my_div_content = document.getElementById("content");//получаем id content, чтобы вставить ВНУТРЬ него newDiv_news
		my_div_content.appendChild(newDiv_news);//вставляем внутрь content новый элемент main
		//document.body.insertBefore(newDiv, my_div); вставить до тега контент

		//создаём 2 блока(верхний и нижний) для вложения новости и кнопки закрытия
		var newDiv_news_block_top = document.createElement("div");//переменная нового элемента верхнего блока
				newDiv_news_block_top.className = 'newDiv_news_block_top'//klass
				newDiv_news_block_top.id = 'newDiv_news_block_top_id';// id
		var newDiv_news_block_bottom = document.createElement("div");// переменная нового элемента нижнего блока
				newDiv_news_block_bottom.className = 'newDiv_news_block_bottom'// klass
				newDiv_news_block_bottom.id = 'newDiv_news_block_bottom_id';// id
		let my_div_content_news_id = document.getElementById("news_id");//получаем id блока c классом news, чтобы вставить ВНУТРЬ него
				my_div_content_news_id.appendChild(newDiv_news_block_top);//вставляем внутрь news - div верхнего блока
				my_div_content_news_id.appendChild(newDiv_news_block_bottom);//вставляем внутрь news - div нижнего блока

		//создаём  кнопку закрытия
		var newDiv_news_block_top_сlose = document.createElement("div");// переменная для создания кнопки
				newDiv_news_block_top_сlose.className = 'newDiv_news_block_top_сlose'//класс main кнопки закрытия новости
				newDiv_news_block_top_сlose.id = 'newDiv_news_block_top_сlose_id';// id кнопки закрытия новости
				newDiv_news_block_top_сlose.innerHTML = 'X';// содержимое текст Х
				newDiv_news_block_top_сlose.onclick = function(){

				my_div_content_news_id.remove();//удаляем блок news
				mainView.createElementMain();//возвращаемся на главную, создаем заново main
				};
					// событие по клику крестика
				let my_div_content_close_id = document.getElementById("newDiv_news_block_top_id");//получаем id верхнего блока чтобы вставить кнопку
				my_div_content_close_id.appendChild(newDiv_news_block_top_сlose);//вставляем внутрь верхнего блока кнопку закрытия новости

	},//конец второго метода
	//начало третьего метода
	//наполняем то, что сделал второй метод
	createRepletionNews: function(){
		let news_block_bottom_id=document.getElementById("newDiv_news_block_bottom_id");


	}//конец третьего метода
};//конец объекта

mainView.createElementMain();


</script>


</body>

</html>
